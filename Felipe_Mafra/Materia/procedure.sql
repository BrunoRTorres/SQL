/* STORED PROCEDURES */

SELECT MAFRA;

DELIMITER $

CREATE PROCEDURE NOME()
BEGIN

	QUALQUER PROGRAMAÇÃO;
	
END
$

CREATE PROCEDURE NOME_EMPRESA()
BEGIN

	SELECT 'UNIVERSIDADE DOS DADOS' AS EMPRESA;

END
$

/* CHAMANDO UMA PROCEDURE */

CALL NOME_EMPRESA()$

DELIMITER ;

CALL NOME_EMPRESA();

/* PROCEDURES COM PARAMETROS */

SELECT 10 + 10 AS CONTA;

DELIMITER $

CREATE PROCEDURE CONTA()
BEGIN

	SELECT 10 + 10 AS CONTA;
	
END
$

CALL CONTA();

DROP PROCEDURE CONTA;

CREATE PROCEDURE CONTA(NUMERO1 INT, NUMERO2 INT)
BEGIN

	SELECT NUMERO1 + NUMERO2 AS CONTA;

END
$

CALL CONTA(100, 50);
CALL CONTA(150, 200);
CALL CONTA(1, 2);
CALL CONTA(1145, 3432);

/* PROCEDURE COM QUERY */

CREATE TABLE CURSO(
	IDCURSO INT PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(30) NOT NULL,
	HORAS INT(3) NOT NULL,
	VALOR FLOAT(10, 2) NOT NULL
);

INSERT INTO CURSO VALUES(NULL, 'JAVA', 30, 500.00);
INSERT INTO CURSO VALUES(NULL, 'FUNDAMENTOS DE BANCOS DE DADOS', 40, 700.00);

DELIMITER $

STATUS

CREATE PROCEDURE CAD_CURSO(P_NOME VARCHAR(30),
						   P_HORAS INT(3),
						   P_PRECO FLOAT(10, 2))
BEGIN

	INSERT INTO CURSO VALUES(NULL, P_NOME, P_PRECO);

END
$

DELIMITER ;

CALL CAD_CURSO('BI SQL SERVER', 35, 3000.00)
CALL CAD_CURSO('POWER BI', 20, 1000.00)
CALL CAD_CURSO('TABLEAU', 30, 1200.00)
